<div *ngIf="!currentProduit">
  <div class="search">
      <input
        type="text"
        [(ngModel)]="term"
        class="searchTerm"
        placeholder="Rechercher produit &#61442;"
      />
</div>
<div class="container" *ngIf="term==''" >
  <div id="myCarousel" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators" *ngFor="let photo of currentParametre.url;let i=index"> 
      <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
    </ol>

    <!-- Wrapper for slides -->
   <div class="carousel-inner">

      <div class="item"  *ngFor="let photo of currentParametre.url;let i=index" [class.active]="i==0">
        <img src="{{photo.url}}" alt="Los Angeles" style="width:100%; opacity:0.9;">
        <div class="carousel-caption">
          <h1>{{currentParametre.nom}}</h1>
          <p>{{photo.description}}</p>
        </div>
      </div>
  
    </div>  

    <!-- Left and right controls -->
    <a class="left carousel-control" href="#myCarousel" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</div>

<div  class="cards" *ngFor="let categorie of categories;let i=index" style="margin-top:30px; margin-bottom: 20px;">
<div class="catg" *ngIf="is_categorie[i] && term==''"><span>{{categorie.nom}}</span></div>
  <div class="myflex" >
  <div class="cardd" style="margin-top:30px; margin-bottom: 20px;" *ngFor="let produit of produits | filter:categorie.nom|filter:term;let i=index">
        <div class="row">
            <div class="col-md-12">
                <div class="card-sl">
                    <div class="card-image">
                        <img
                            src="{{produit.url[0].url}}" />
                    </div>

                    <a class="card-action" (click)="buy(produit, i)" ><i class="fa-brands fa-whatsapp"></i></a>
                    <div class="card-heading">
                        {{produit.nom}} 
                    </div>
                   <!--  <div class="card-text dec">
                        Audi Q8 is a full-size luxury crossover SUV coupé made by Audi that was launched in 2018.
                    </div> -->
                    <div class="card-text">
                        {{produit.prix}} fr
                    </div>
                    <a (click)="setActiveProduit(produit, i)" class="card-button"> Voir plus</a>
                </div>
            </div>
  </div>  
  </div>
</div>
</div>
</div>
<div class="voir" *ngIf="currentProduit">
    <div class="close" (click)="currentProduit=false">
        X
    </div>
    <div class="photo_detail">
        <div class="container">
            <h4>{{currentProduit.nom}}</h4>
          <div id="myCarousel" class="carousel slide" data-ride="carousel">
            <!-- Indicators -->
            <ol class="carousel-indicators" *ngFor="let photo of currentProduit.url;let i=index"> 
              <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            </ol>

            <!-- Wrapper for slides -->
            <div class="carousel-inner">

              <div class="item "  *ngFor="let photo of currentProduit.url;let i=index" [class.active]="i==0">
                <img src="{{photo.url}}" alt="Los Angeles" style="width:100%;">
                <div class="carousel-caption">
                  <h3>Photo {{i+1}}</h3>
                  <p>{{photo.description}}</p>
                </div>
              </div>
          
            </div>

            <!-- Left and right controls -->
            <a class="left carousel-control" href="#myCarousel" data-slide="prev">
              <span class="glyphicon glyphicon-chevron-left"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#myCarousel" data-slide="next">
              <span class="glyphicon glyphicon-chevron-right"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>
</div>
    </div>
    <div class="text_detail">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                  <th scope="col" colspan="2">Details du produit</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th scope="row">Nom</th>
                  <td>{{currentProduit.nom}}</td>
                </tr>
                <tr>
                  <th scope="row">Catégorie</th>
                  <td>{{currentProduit.categorie}}</td>
                </tr>
                <tr>
                  <th scope="row">matricule</th>
                  <td>{{currentProduit.matricule}}</td>
                </tr>
                <tr>
                  <th scope="row">Prix d'achat</th>
                  <td>{{currentProduit.achat}}</td>             
              </tr>
                <tr>
                  <th scope="row">Prix de vente</th>
                  <td>{{currentProduit.prix}}</td>
                </tr>
                <tr>
                  <th scope="row">Nombre dans le stock</th>
                  <td>{{currentProduit.stock}}</td>
                </tr>
                <tr>
                  <th scope="row">Description</th>
                  <td>{{currentProduit.description}}</td>
                </tr>
                <tr>
                  <th scope="row">Publier</th>
                  <td>{{currentProduit.publish}}</td>
                </tr>
              </tbody>
        </table>
        <div class="cracteristique" *ngIf="currentProduit.detail">
            <div class="grid" *ngFor="let detail of currentProduit.detail; let i = index ">
                <span class="gras">{{detail.titre}} :</span>{{detail.valeur}}
            </div>      
        </div>
    </div>
</div>
<div class="footers">
  <div class="foot_1">
    <div class="mylogo">
      <img src="{{currentParametre.logo}}">
    </div>
    <div class="contact">
      <div>Tel: {{currentParametre.contact}}</div>
      <div>Mail: {{currentParametre.adresse}}</div>
      <div>Facebook: {{currentParametre.facebook}}</div>
    </div>
  </div>
  <div class="foot_2">
    @ Copyright 2023 <span> @XB design </span> - Tout droits reservés
  </div>
</div>
